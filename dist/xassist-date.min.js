/**
* @preserve
* https://github.com/GregBee2/xassist-date.git Version 1.1.2.
*  Copyright 2018 Gregory Beirens.
*  Created on Fri, 30 Mar 2018 18:51:43 GMT.
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@xassist/xassist-object")):"function"==typeof define&&define.amd?define(["exports","@xassist/xassist-object"],e):e(t.xa=t.xa||{},t.xa)}(this,function(t,e){"use strict";var i=[{key:"year",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?y|Y|years?|Years?)(?![a-zA-z])/g},{key:"month",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?M|months?|Months?)(?![a-zA-z])/g},{key:"day",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?d|D|days?|Days?)(?![a-zA-z])/g},{key:"hour",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?h|H|hours?|Hours?)(?![a-zA-z])/g},{key:"minute",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?m|mins?|Mins?|minutes?|Minutes?)(?![a-zA-z])/g},{key:"second",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?s|S|secs?|Secs?|seconds?|Seconds?)(?![a-zA-z])/g},{key:"millisecond",re:/(-?\d*(?:[.,]\d*)?)(?:[ ]?ms|millis?|m[sS]ecs?|m[sS]econds?|milli[sS]ecs?|milli[sS]econds?)(?![a-zA-z])/g}];function o(t){this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,this.normalized=!1,this.init(t)}o.prototype._keyOrder=["year","month","day","hour","minute","second","millisecond"],o.prototype.init=function(t){1===t.length&&("string"==typeof t[0]?function(t,e){for(var n,o=0,r=i.length;o<r;o++)for(;n=i[o].re.exec(e);)t[i[o].key]+=parseFloat((n[1]||"0").replace(",","."))}(this,t[0]):"number"==typeof t[0]?this.millisecond+=t[0]:"object"==typeof t[0]&&e.object(this).mergeUnique(t[0])),1<t.length&&t.forEach(function(t,e){e<this._keyOrder.length&&"number"==typeof t&&(this[this._keyOrder[e]]+=t)},this)};var r={year:{conv:function(t){return 12*t},to:"month"},day:{conv:function(t){return 24*t},to:"hour"},hour:{conv:function(t){return 60*t},to:"minute"},minute:{conv:function(t){return 60*t},to:"second"},second:{conv:function(t){return 1e3*t},to:"millisecond"}};o.prototype.normalize=function(){for(var t,e,n=0,o=this._keyOrder.length;n<o;n++)t=this._keyOrder[n],r.hasOwnProperty(t)&&(e=10*this[t]%10/10,this[t]=this[t]-e,this[r[t].to]+=r[t].conv(e));return this.normalized=10*this.month%10/10==0,this},o.prototype.addDuration=function(t){var e,n,o;for(n=0,o=this._keyOrder.length;n<o;n++)e=this._keyOrder[n],t.hasOwnProperty(e)&&"number"==typeof t[e]&&(this[e]+=t[e]);return this},o.prototype.removeIntervalOfType=function(t,e){return~this._keyOrder.indexOf(t)?(e="number"==typeof e?e:this[t],this[t]-=e,e):0},o.prototype.normalizeMonth=function(t){var e=10*this.month%10/10;return this.month=this.month-e,this.day+=t*e,this.normalize()};var s={days:{defaultKey:"long",abbreviation:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},month:{defaultKey:"long",abbreviation:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]}},a=function(t){if(0<(t=void 0===t?(new Date).getFullYear():t)||t<0)return 0==(3&t)&&(t%25!=0||0==(15&t))},u=function(t,e){var n;return 2===(t=void 0===t?(new Date).getMonth()+1:t)?void 0===(n=a(e))?n:n?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][t-1]},y=/^(\d{4}|\d{2}|[1-2]?\d{1}|3[0-1])[-/\\.](0?[1-9]|[1-2]\d{1}|3[0-1])[-/\\.](\d{4}|\d{2}|[1-2]?\d{1}|3[0-1])(?:[T ]([0-1]\d|2[0-3]):([0-5]\d)(?::([0-5]\d)(?:[.,](\d*)?)?)?)?$/i,n=function(t,e,n){var o,r=0;return this&&this.constructor&&"XaDate"===this.constructor.name&&(r=1),o=r?this.getDay():t||0,t=(""+arguments[1-r]||s.days.defaultKey).toLowerCase(),e=r?0:n||0,o=(o-((n=!!r||!(void 0!==arguments[3]&&!arguments[3]))?0:1)+e)%7,t=s.days.hasOwnProperty(t)?t:s.days.defaultKey,o=o<0?7+o:o,s.days[t][o]},h=function(t,e){var n,o=0;return this&&this.constructor&&"XaDate"===this.constructor.name&&(o=1),n=o?this.getMonth():t||0,t=(""+arguments[1-o]||s.month.defaultKey).toLowerCase(),t=s.month.hasOwnProperty(t)?t:s.month.defaultKey,n=(n=(n-(!!o||!(void 0!==arguments[2]&&!arguments[2])?0:1))%12)<0?12+n:n,s.month[t][n]},d=function(){return new c([].slice.call(arguments))};function c(t){var e=new(Function.prototype.bind.apply(Date,[Date].concat(t)));return Object.setPrototypeOf(e,c.prototype),e}d.isValidDateString=function(t){var e,n,o,r,i,s={valid:!1,format:[]},a=t.match(y),h=[];if(a){e=parseInt(a[1]),o=parseInt(a[2]),n=parseInt(a[3]),s.hours=parseInt(a[4]||0),s.minutes=parseInt(a[5]||0),s.seconds=a[6]?parseInt(a[6]):0,s.milliSeconds=a[7]?parseInt(a[7]):0,s.valid=!0,s.multipleFormats=!1;var d=function(t){return t<100?50<t?1900+t:2e3+t:t};return r=d(e),!!(h=[{day:e,month:o,year:i=d(n),format:"DMY"},{day:n,month:o,year:r,format:"YMD"},{day:o,month:e,year:i,format:"MDY"},{day:o,month:n,year:r,format:"YDM"}].filter(function(t){return t.day<32&&t.month<13&&(e=t.day,n=t.month,o=t.year,e<=u(n,o));var e,n,o})).length&&(s.day=[],s.month=[],s.year=[],s.multipleFormats=!0,s.format=[],h.forEach(function(t){s.day.push(t.day),s.month.push(t.month),s.year.push(t.year),s.format.push(t.format)}),s)}return!1},d.stringToDate=function(t,e){var n=d.isValidDateString(t);if(n){if("string"!=typeof e)e=0;else if(-1===(e=n.format.indexOf(e.toUpperCase())))return!1;return d(n.year[e],n.month[e]-1,n.day[e],n.hours,n.minutes,n.seconds,n.milliSeconds)}return!1},Object.setPrototypeOf(c.prototype,Date.prototype),c.prototype.isValid=function(){return t=this,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime());var t},d.getWeekDay=n.bind(null),d.month=h.bind(null),c.prototype.getWeekDay=n,c.prototype.month=h,c.prototype.isLeapYear=function(){return this.isValid()?a(this.getFullYear()):void 0},d.isLeapYear=a,c.prototype.daysInMonth=function(){return this.isValid()?u(this.getMonth()+1,this.getFullYear()):void 0},d.daysInMonth=u,c.prototype._addSmall=function(t){return this.addDays(t.removeIntervalOfType("day")),this.addHours(t.removeIntervalOfType("hour")),this.addMinutes(t.removeIntervalOfType("minute")),this.addSeconds(t.removeIntervalOfType("second")),this.addMilliseconds(t.removeIntervalOfType("millisecond")),this},c.prototype._addBig=function(t){var e,n=this.getDate(),o=10*t.month%10/10,r=t.month-o;this.addYears(t.removeIntervalOfType("year")),this.addMonths(t.removeIntervalOfType("month",r)),t.month=o,e=this.getMonth(),this.setDate(n),this.getMonth()!==e&&this.setDate(0)},c.prototype.add=function(t){var e=[].slice.call(arguments),n=e.pop();return"boolean"!=typeof n&&(e.push(n),n=!0),"XaDuration"!==t.constructor.name&&(t=function(){return new o([].slice.call(arguments))}.apply(null,e)),t.normalize(),n&&(this._addBig(t),t.normalizeMonth(this.daysInMonth())),this._addSmall(t),n||(t.normalizeMonth(this.daysInMonth()),this._addSmall(t),this._addBig(t)),this},c.prototype.addMonths=function(t){var e,n;return"number"!=typeof t||(e=this.getDate(),this.setMonth(this.getMonth()+t,1),n=this.getMonth(),this.setDate(e),this.getMonth()!==n&&this.setDate(0)),this},c.prototype.addYears=function(t){var e;return"number"!=typeof t||(e=this.getMonth(),this.setFullYear(this.getFullYear()+t,e),this.getMonth()!==e&&this.setDate(0)),this},c.prototype.addDays=function(t){return"number"!=typeof t||this.setDate(this.getDate()+t),this},c.prototype.addHours=function(t){return"number"!=typeof t||this.setHours(this.getHours()+t),this},c.prototype.addMinutes=function(t){return"number"!=typeof t||this.setMinutes(this.getMinutes()+t),this},c.prototype.addSeconds=function(t){return"number"!=typeof t||this.setSeconds(this.getSeconds()+t),this},c.prototype.addMilliseconds=function(t){return"number"!=typeof t||this.setMilliseconds(this.getMilliseconds()+t),this},t.date=d,Object.defineProperty(t,"__esModule",{value:!0})});